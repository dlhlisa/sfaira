

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Models &mdash; sfaira 0+untagged.1.gdab9cb3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom_sfaira.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Ecosystem" href="ecosystem.html" />
    <link rel="prev" title="Consuming Data" href="consuming_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> sfaira
          

          
          </a>

          
            
            
              <div class="version">
                0+untagged.1.gdab9cb3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandline_interface.html">Commandline interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_datasets.html">Contributing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="consuming_data.html">Consuming Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#user-interface">User interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-management">Model management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contribute-models">Contribute models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#training">Training</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#estimator-classes">Estimator classes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ecosystem.html">Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sfaira</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/theislab/sfaira/blob/master/docs/models.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/theislab/sfaira/master/resources/images/model_zoo.png"><img alt="https://raw.githubusercontent.com/theislab/sfaira/master/resources/images/model_zoo.png" class="align-center" src="https://raw.githubusercontent.com/theislab/sfaira/master/resources/images/model_zoo.png" style="width: 600px;" /></a>
<div class="section" id="user-interface">
<h2>User interface<a class="headerlink" href="#user-interface" title="Permalink to this headline">¶</a></h2>
<p>The user interface allows users to query model code and parameter estimates to run on local data.
It takes care of downloading model parameters from the relevant cloud storage, loading parameters into a model instance locally and performing the forward pass.
With the user interface, users only have to worry about which model they want to execute, but now how this is facilitated.</p>
</div>
<div class="section" id="model-management">
<h2>Model management<a class="headerlink" href="#model-management" title="Permalink to this headline">¶</a></h2>
<p>A sfaira model is a class that inherits from BasicModel which defines a tf.keras.models.Model in self.training_model.
This training_model describes the full forward pass. Additionally, embedding models also have an attribute X, a
tf.keras.models.Model that describes the partial forward pass into the embedding layer.</p>
<p>Such a model class, e.g. ModelX, is wrapped by an inheriting class ModelXVersioned, that handles properties of the
model architecture.
In particular, ModelXVersioned</p>
<blockquote>
<div><ul class="simple">
<li><p>has access to the cell ontology container (a daughter class of CelltypeVersionsBase) that corresponds to this model if applicable</p></li>
<li><p>has access to a map of a version ID to an architectural hyperparameter setting (Topologies), allowing this class to set depth, width, etc of the model directly based on the name of the yielded model.</p></li>
<li><p>has access to the feature space of the model, including its gene names, which are defined by the model topology in Topologies</p></li>
</ul>
</div></blockquote>
<div class="section" id="contribute-models">
<h3>Contribute models<a class="headerlink" href="#contribute-models" title="Permalink to this headline">¶</a></h3>
<p>Models can be contributed and used in two ways</p>
<blockquote>
<div><ul class="simple">
<li><p>Full model code in sfaira repo</p></li>
<li><p>sfaira compatible model code in external package (to come)</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="training">
<h2>Training<a class="headerlink" href="#training" title="Permalink to this headline">¶</a></h2>
<div class="section" id="estimator-classes">
<h3>Estimator classes<a class="headerlink" href="#estimator-classes" title="Permalink to this headline">¶</a></h3>
<p>We define estimator classes that have model instances as an attribute, that orchestrate all major aspects of model
fitting, such as a data loading, data streaming and model evaluation.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ecosystem.html" class="btn btn-neutral float-right" title="Ecosystem" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="consuming_data.html" class="btn btn-neutral float-left" title="Consuming Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Leander Dony, David S. Fischer, Lukas Heumos..

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>